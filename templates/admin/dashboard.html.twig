{# templates/admin/dashboard.html.twig #}
{% extends '@EasyAdmin/page/content.html.twig' %}

{% block content_title %}Tableau de Bord{% endblock %}

{% block main %}
    <div class="container-fluid py-4">

        {# --- 1. BANNIÃˆRE DE BIENVENUE --- #}
        {# On garde un style distinct pour la banniÃ¨re pour qu'elle ressorte #}
        <div class="row mb-5">
            <div class="col-12">
                <div class="card border-0 shadow-lg overflow-hidden welcome-card">
                    <div class="card-body p-5 position-relative z-2">
                        <div class="row align-items-center">
                            <div class="col-md-8">
                                <h1 class="display-5 fw-bold text-white mb-3">Bonjour, Administrateur ðŸ‘‹</h1>
                                <p class="lead text-white-50 mb-4">
                                    Bienvenue sur votre espace de gestion <strong>Planifique</strong>.
                                    Pilotez vos Ã©quipes, configurez les Ã©vÃ©nements et suivez les inscriptions en un coup d'Å“il.
                                </p>
                            </div>
                            <div class="col-md-4 text-center d-none d-md-block">
                                <i class="fas fa-calendar-check fa-8x text-white opacity-25"></i>
                            </div>
                        </div>
                    </div>
                    {# DÃ©coration de fond #}
                    <div class="bg-decoration"></div>
                </div>
            </div>
        </div>

        {# --- 2. CARTES DE NAVIGATION (THEME ADAPTATIF) --- #}
        <div class="row g-4">

            {# CARD : GROUPES #}
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-scale position-relative p-2">
                    <div class="card-body d-flex flex-column align-items-center text-center p-4">
                        <div class="icon-box bg-primary bg-opacity-10 text-primary mb-4">
                            <i class="fas fa-users fa-2x"></i>
                        </div>
                        {# 'text-body' s'adapte auto (Noir en Light, Blanc en Dark) #}
                        <h3 class="h4 fw-bold mb-2 text-body">Groupes & Ã‰quipes</h3>
                        <p class="text-secondary mb-0">
                            GÃ©rez les Ã©quipes et liez-les aux IDs Microsoft Azure.
                        </p>

                        {# LE LIEN MAGIQUE : Couvre toute la carte #}
                        <a href="{{ ea_url().setController('App\\Controller\\Admin\\GroupeCrudController').setAction('index').generateUrl() }}"
                           class="stretched-link"></a>
                    </div>
                </div>
            </div>

            {# CARD : TYPES D'Ã‰VÃ‰NEMENTS #}
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-scale position-relative p-2">
                    <div class="card-body d-flex flex-column align-items-center text-center p-4">
                        <div class="icon-box bg-success bg-opacity-10 text-success mb-4">
                            <i class="fas fa-calendar-alt fa-2x"></i>
                        </div>
                        <h3 class="h4 fw-bold mb-2 text-body">Types d'Ã‰vÃ©nements</h3>
                        <p class="text-secondary mb-0">
                            Configurez les durÃ©es, couleurs et descriptions des RDV.
                        </p>

                        <a href="{{ ea_url().setController('App\\Controller\\Admin\\EvenementCrudController').setAction('index').generateUrl() }}"
                           class="stretched-link"></a>
                    </div>
                </div>
            </div>

            {# CARD : UTILISATEURS #}
            <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm hover-scale position-relative p-2">
                    <div class="card-body d-flex flex-column align-items-center text-center p-4">
                        <div class="icon-box bg-warning bg-opacity-10 text-warning mb-4">
                            <i class="fas fa-user-tie fa-2x"></i>
                        </div>
                        <h3 class="h4 fw-bold mb-2 text-body">Collaborateurs</h3>
                        <p class="text-secondary mb-0">
                            Visualisez les inscrits et accÃ©dez Ã  leurs plannings.
                        </p>

                        <a href="{{ ea_url().setController('App\\Controller\\Admin\\UserCrudController').setAction('index').generateUrl() }}"
                           class="stretched-link"></a>
                    </div>
                </div>
            </div>

        </div>
    </div>

    {# --- CSS INTÃ‰GRÃ‰ POUR LE DESIGN MODERNE --- #}
    <style>
        /* Animation de survol "Levitation" */
        .hover-scale {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            /* Pour EasyAdmin Dark Mode : on force le background de la carte Ã  s'adapter */
            background-color: var(--bs-card-bg);
        }
        .hover-scale:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1) !important;
            cursor: pointer;
        }

        /* Style des icÃ´nes */
        .icon-box {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }
        .hover-scale:hover .icon-box {
            transform: scale(1.1) rotate(5deg);
        }

        /* BanniÃ¨re de bienvenue */
        .welcome-card {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            position: relative;
        }
        .bg-decoration {
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(37,99,235,0.2) 0%, rgba(0,0,0,0) 70%);
            border-radius: 50%;
            pointer-events: none;
        }
    </style>
{% endblock %}
